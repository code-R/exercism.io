db:
  image: postgres:9.4
  environment:
    POSTGRES_USER: exercism
    POSTGRES_PASSWORD: apples
  volumes:
    - "/home/vamsi/postgres/data:/var/lib/postgresql/data"
redis:
  image: sameersbn/redis
  volumes:
    - "/home/vamsi/redis:/var/lib/redis"
worker:
  build: .
  volumes:
    - ".:/exercism"
  links:
    - db
    - redis
  command: sidekiq -r /exercism/sidekiq_enviroment.rb -L -d -q analyze -q default
web:
  image: exercism-web
  links:
    - db
    - redis
  command: foreman start
  volumes:
    - ".:/exercism"
  ports:
    - "4567:4567"
  environment:
    EXERCISES_API_URL: http://localhost:9292
    JENKINS_URL: http://labs.imaginea.com/jenkins
    SONARQUBE_URL: http://labs.pramati.com:9005/sonar
    RACK_ENV: production
    NEWRELIC_ENABLE: false
    EXERCISM_GITHUB_CLIENT_ID: 5ba119e65304411c5181
    EXERCISM_GITHUB_CLIENT_SECRET: 2667dfdf7fbd5c0f59504c1cce997de5fb1d1565
    PORT: 4567
    EMAIL_DOMAIN: hootcode.com
    EMAIL_PASSWORD: hootcode123
    EMAIL_SMTP_ADDRESS: smtp.gmail.com
    EMAIL_SMTP_PORT: 587
    EMAIL_USERNAME: hootcode@gmail.com
